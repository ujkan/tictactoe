{"ast":null,"code":"var _jsxFileName = \"/Users/ujkan/Desktop/uni/projects/tictactoe/java/src/main/resources/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n//const App = () => {\n//  // State to keep track of the current player (X or O)\n//  const [currentPlayer, setCurrentPlayer] = useState('X');\n//\n//  // State to keep track of the cells and their contents\n//  const [grid, setGrid] = useState([\n//    ['', '', ''],\n//    ['', '', ''],\n//    ['', '', ''],\n//  ]);\n//\n//  // Fetch the current game state from the API when the component mounts\n//  useEffect(() => {\n//    fetch('/board')\n//      .then(response => response.json())\n//      .then(data => {\n//        setGrid(data.grid);\n//        setCurrentPlayer(data.currentPlayer);\n//      });\n//  }, []);\n//\n//  // Function to handle clicks on the grid cells\n//  const handleCellClick = (row, col) => {\n//    // Ignore the click if the cell is already filled\n//    if (grid[row][col] !== '') {\n//      return;\n//    }\n//\n//    // Update the grid with the current player's symbol\n//    const updatedGrid = [...grid];\n//    updatedGrid[row][col] = currentPlayer;\n//\n//    // Check if the game is over\n//    const gameOver = false;\n//\n//    let nextPlayer;\n//    if (gameOver) {\n//      // If the game is over, don't switch to the other player\n//      nextPlayer = currentPlayer;\n//    } else {\n//      // Switch to the other player\n//      nextPlayer = currentPlayer === 'X' ? 'O' : 'X';\n//\n//      // If the other player is the AI, make a move on behalf of the AI\n//      if (nextPlayer === 'O') {\n//        fetch('/ai')\n//          .then(response => response.json())\n//          .then(aiMove => {\n//            // Update the grid with the AI's move\n//            const newGrid = [...updatedGrid];\n//            newGrid[aiMove.row][aiMove.col] = 'O';\n//\n//            // Check if the game is over after the AI's move\n//            const newGameOver = false;\n//\n//            // Update the state with the new grid and current player\n//            setGrid(newGrid);\n//            setCurrentPlayer(newGameOver ? 'O' : 'X');\n//\n//            // Send the updated game state to the API\n//            fetch('../../src/api/game', {\n//              method: 'PUT',\n//              headers: { 'Content-Type': 'application/json' },\n//              body: JSON.stringify({ grid: newGrid, currentPlayer: nextPlayer }),\n//            });\n//          });\n//      }\n//    }\n//\n//    // Update the state with the new grid and current player\n//    setGrid(updatedGrid);\n//    setCurrentPlayer(nextPlayer);\n//\n//    // Send the updated game state to the API\n//    fetch('/api/game', {\n//      method: 'PUT',\n//      headers: { 'Content-Type': 'application/json' },\n//      body: JSON.stringify({ grid: updatedGrid, currentPlayer\n//\n//      })\n//    });\n//    return (\n//        <div>\n//          <div className=\"grid\">\n//            {grid.map((row, rowIndex) => (\n//              <div key={rowIndex} className=\"grid-row\">\n//                {row.map((col, colIndex) => (\n//                  <div\n//                    key={colIndex}\n//                    className=\"grid-cell\"\n//                    onClick={() => handleCellClick(rowIndex, colIndex)}\n//                  >\n//                    {col}\n//                  </div>\n//                ))}\n//              </div>\n//            ))}\n//          </div>\n//        </div>\n//      );\n//  }}\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndocument.addEventListener(\"click\", handler, true);\nfunction handler(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\nexport default function App(props) {\n  _s();\n  const [currentPlayer, setCurrentPlayer] = useState('X');\n\n  // State to keep track of the cells and their contents\n  const [grid, setGrid] = useState([['', '', ''], ['', '', ''], ['', '', '']]);\n  const gameState = fetch('http://localhost:8080/state').then(response => response.json());\n  if (gameState !== 'ONGOING') {\n    handler();\n  }\n\n  // Function to handle clicks on the grid cells\n  const handleCellClick = (row, col) => {\n    // Ignore the click if the cell is already filled\n    if (grid[row][col] !== '') {\n      return;\n    }\n\n    // Update the grid with the current player's symbol\n    const updatedGrid = [...grid];\n    updatedGrid[row][col] = currentPlayer;\n    fetch('http://localhost:8080/board', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        pos: row * 3 + col\n      })\n    }).then(() => fetch('http://localhost:8080/ai').then(response => response.json()).then(aiMove => {\n      // Update the grid with the AI's move\n      var newGrid = [...updatedGrid];\n      newGrid[Math.floor(aiMove / 3)][aiMove % 3] = 'O';\n      var newBoard = [].concat.apply([], newGrid);\n      console.log(newBoard);\n      // Check if the game is over after the AI's move\n      const newGameOver = false;\n\n      // Update the state with the new grid and current player\n      setGrid(newGrid);\n      setCurrentPlayer(newGameOver ? 'O' : 'X');\n\n      // Send the updated game state to the API\n      console.log(JSON.stringify({\n        pos: aiMove\n      }));\n    }));\n\n    // Switch to the other player\n    const nextPlayer = currentPlayer === 'X' ? 'O' : 'X';\n\n    // if (nextPlayer === 'O') {\n    //         fetch('http://localhost:8080/ai')\n    //           .then(response => response.json())\n    //           .then(aiMove => {\n    //             // Update the grid with the AI's move\n    //             var newGrid = [...updatedGrid];\n    //             newGrid[Math.floor(aiMove/3)][aiMove%3] = 'O';\n    //             var newBoard = [].concat.apply([], newGrid);\n    //             console.log(\"HEY\");\n    //             console.log(newBoard);\n    //             // Check if the game is over after the AI's move\n    //             const newGameOver = false;\n\n    //             // Update the state with the new grid and current player\n    //             setGrid(newGrid);\n    //             setCurrentPlayer(newGameOver ? 'O' : 'X');\n\n    //             // Send the updated game state to the API\n    //             console.log(JSON.stringify({ pos: aiMove}));\n\n    //           });\n    //       }\n\n    // Update the state with the new grid and current player\n    setGrid(updatedGrid);\n    setCurrentPlayer(currentPlayer);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: grid.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-row\",\n        children: row.map((col, colIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-cell\",\n          onClick: () => handleCellClick(rowIndex, colIndex),\n          children: col\n        }, colIndex, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 15\n        }, this))\n      }, rowIndex, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n}\n\n// Log to console\n_s(App, \"rTbbhWrsBR3E1G1G/aa4g6E6TPM=\");\n_c = App;\nconsole.log('Hello console');\n\n// Log to console\nconsole.log('Hello console');\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","document","addEventListener","handler","e","stopPropagation","preventDefault","App","props","currentPlayer","setCurrentPlayer","grid","setGrid","gameState","fetch","then","response","json","handleCellClick","row","col","updatedGrid","method","headers","body","JSON","stringify","pos","aiMove","newGrid","Math","floor","newBoard","concat","apply","console","log","newGameOver","nextPlayer","map","rowIndex","colIndex"],"sources":["/Users/ujkan/Desktop/uni/projects/tictactoe/java/src/main/resources/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\n//const App = () => {\n//  // State to keep track of the current player (X or O)\n//  const [currentPlayer, setCurrentPlayer] = useState('X');\n//\n//  // State to keep track of the cells and their contents\n//  const [grid, setGrid] = useState([\n//    ['', '', ''],\n//    ['', '', ''],\n//    ['', '', ''],\n//  ]);\n//\n//  // Fetch the current game state from the API when the component mounts\n//  useEffect(() => {\n//    fetch('/board')\n//      .then(response => response.json())\n//      .then(data => {\n//        setGrid(data.grid);\n//        setCurrentPlayer(data.currentPlayer);\n//      });\n//  }, []);\n//\n//  // Function to handle clicks on the grid cells\n//  const handleCellClick = (row, col) => {\n//    // Ignore the click if the cell is already filled\n//    if (grid[row][col] !== '') {\n//      return;\n//    }\n//\n//    // Update the grid with the current player's symbol\n//    const updatedGrid = [...grid];\n//    updatedGrid[row][col] = currentPlayer;\n//\n//    // Check if the game is over\n//    const gameOver = false;\n//\n//    let nextPlayer;\n//    if (gameOver) {\n//      // If the game is over, don't switch to the other player\n//      nextPlayer = currentPlayer;\n//    } else {\n//      // Switch to the other player\n//      nextPlayer = currentPlayer === 'X' ? 'O' : 'X';\n//\n//      // If the other player is the AI, make a move on behalf of the AI\n//      if (nextPlayer === 'O') {\n//        fetch('/ai')\n//          .then(response => response.json())\n//          .then(aiMove => {\n//            // Update the grid with the AI's move\n//            const newGrid = [...updatedGrid];\n//            newGrid[aiMove.row][aiMove.col] = 'O';\n//\n//            // Check if the game is over after the AI's move\n//            const newGameOver = false;\n//\n//            // Update the state with the new grid and current player\n//            setGrid(newGrid);\n//            setCurrentPlayer(newGameOver ? 'O' : 'X');\n//\n//            // Send the updated game state to the API\n//            fetch('../../src/api/game', {\n//              method: 'PUT',\n//              headers: { 'Content-Type': 'application/json' },\n//              body: JSON.stringify({ grid: newGrid, currentPlayer: nextPlayer }),\n//            });\n//          });\n//      }\n//    }\n//\n//    // Update the state with the new grid and current player\n//    setGrid(updatedGrid);\n//    setCurrentPlayer(nextPlayer);\n//\n//    // Send the updated game state to the API\n//    fetch('/api/game', {\n//      method: 'PUT',\n//      headers: { 'Content-Type': 'application/json' },\n//      body: JSON.stringify({ grid: updatedGrid, currentPlayer\n//\n//      })\n//    });\n//    return (\n//        <div>\n//          <div className=\"grid\">\n//            {grid.map((row, rowIndex) => (\n//              <div key={rowIndex} className=\"grid-row\">\n//                {row.map((col, colIndex) => (\n//                  <div\n//                    key={colIndex}\n//                    className=\"grid-cell\"\n//                    onClick={() => handleCellClick(rowIndex, colIndex)}\n//                  >\n//                    {col}\n//                  </div>\n//                ))}\n//              </div>\n//            ))}\n//          </div>\n//        </div>\n//      );\n//  }}\ndocument.addEventListener(\"click\", handler, true);\n    \nfunction handler(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\nexport default function App(props) {\n const [currentPlayer, setCurrentPlayer] = useState('X');\n\n  // State to keep track of the cells and their contents\n  const [grid, setGrid] = useState([\n    ['', '', ''],\n    ['', '', ''],\n    ['', '', ''],\n  ]);\n\n  const gameState = fetch('http://localhost:8080/state')\n    .then(response => response.json());\n\n    if(gameState !== 'ONGOING') {\n      handler();\n    }\n\n  // Function to handle clicks on the grid cells\n  const handleCellClick = (row, col) => {\n    // Ignore the click if the cell is already filled\n    if (grid[row][col] !== '') {\n      return;\n    }\n\n    // Update the grid with the current player's symbol\n    const updatedGrid = [...grid];\n    updatedGrid[row][col] = currentPlayer;\n    \n    \n\n    fetch('http://localhost:8080/board', {\n                  method: 'PUT',\n                  headers: { 'Content-Type': 'application/json' },\n                  body: JSON.stringify({ pos: row*3 + col}),\n                })\n      .then(() =>\n        fetch('http://localhost:8080/ai')\n              .then(response => response.json())\n              .then(aiMove => {\n                // Update the grid with the AI's move\n                var newGrid = [...updatedGrid];\n                newGrid[Math.floor(aiMove/3)][aiMove%3] = 'O';\n                var newBoard = [].concat.apply([], newGrid);\n                console.log(newBoard);\n                // Check if the game is over after the AI's move\n                const newGameOver = false;\n\n                // Update the state with the new grid and current player\n                setGrid(newGrid);\n                setCurrentPlayer(newGameOver ? 'O' : 'X');\n                \n                // Send the updated game state to the API\n                console.log(JSON.stringify({ pos: aiMove}));\n\n                \n              }))\n\n\n    // Switch to the other player\n    const nextPlayer = currentPlayer === 'X' ? 'O' : 'X';\n\n    // if (nextPlayer === 'O') {\n    //         fetch('http://localhost:8080/ai')\n    //           .then(response => response.json())\n    //           .then(aiMove => {\n    //             // Update the grid with the AI's move\n    //             var newGrid = [...updatedGrid];\n    //             newGrid[Math.floor(aiMove/3)][aiMove%3] = 'O';\n    //             var newBoard = [].concat.apply([], newGrid);\n    //             console.log(\"HEY\");\n    //             console.log(newBoard);\n    //             // Check if the game is over after the AI's move\n    //             const newGameOver = false;\n\n    //             // Update the state with the new grid and current player\n    //             setGrid(newGrid);\n    //             setCurrentPlayer(newGameOver ? 'O' : 'X');\n                \n    //             // Send the updated game state to the API\n    //             console.log(JSON.stringify({ pos: aiMove}));\n\n                \n    //           });\n    //       }\n\n    // Update the state with the new grid and current player\n    setGrid(updatedGrid);\n    setCurrentPlayer(currentPlayer);\n  }\n\n  return (\n    <div>\n      <div className=\"grid\">\n        {grid.map((row, rowIndex) => (\n          <div key={rowIndex} className=\"grid-row\">\n            {row.map((col, colIndex) => (\n              <div\n                key={colIndex}\n                className=\"grid-cell\"\n                onClick={() => handleCellClick(rowIndex, colIndex)}\n              >\n                {col}\n              </div>\n            ))}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// Log to console\nconsole.log('Hello console')\n\n\n// Log to console\nconsole.log('Hello console')\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACAC,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEC,OAAO,EAAE,IAAI,CAAC;AAEjD,SAASA,OAAO,CAACC,CAAC,EAAE;EAClBA,CAAC,CAACC,eAAe,EAAE;EACnBD,CAAC,CAACE,cAAc,EAAE;AACpB;AACA,eAAe,SAASC,GAAG,CAACC,KAAK,EAAE;EAAA;EAClC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,GAAG,CAAC;;EAEtD;EACA,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,CAC/B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACZ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACb,CAAC;EAEF,MAAMc,SAAS,GAAGC,KAAK,CAAC,6BAA6B,CAAC,CACnDC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC;EAElC,IAAGJ,SAAS,KAAK,SAAS,EAAE;IAC1BV,OAAO,EAAE;EACX;;EAEF;EACA,MAAMe,eAAe,GAAG,CAACC,GAAG,EAAEC,GAAG,KAAK;IACpC;IACA,IAAIT,IAAI,CAACQ,GAAG,CAAC,CAACC,GAAG,CAAC,KAAK,EAAE,EAAE;MACzB;IACF;;IAEA;IACA,MAAMC,WAAW,GAAG,CAAC,GAAGV,IAAI,CAAC;IAC7BU,WAAW,CAACF,GAAG,CAAC,CAACC,GAAG,CAAC,GAAGX,aAAa;IAIrCK,KAAK,CAAC,6BAA6B,EAAE;MACvBQ,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,GAAG,EAAER,GAAG,GAAC,CAAC,GAAGC;MAAG,CAAC;IAC1C,CAAC,CAAC,CACXL,IAAI,CAAC,MACJD,KAAK,CAAC,0BAA0B,CAAC,CAC1BC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACa,MAAM,IAAI;MACd;MACA,IAAIC,OAAO,GAAG,CAAC,GAAGR,WAAW,CAAC;MAC9BQ,OAAO,CAACC,IAAI,CAACC,KAAK,CAACH,MAAM,GAAC,CAAC,CAAC,CAAC,CAACA,MAAM,GAAC,CAAC,CAAC,GAAG,GAAG;MAC7C,IAAII,QAAQ,GAAG,EAAE,CAACC,MAAM,CAACC,KAAK,CAAC,EAAE,EAAEL,OAAO,CAAC;MAC3CM,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;MACrB;MACA,MAAMK,WAAW,GAAG,KAAK;;MAEzB;MACAzB,OAAO,CAACiB,OAAO,CAAC;MAChBnB,gBAAgB,CAAC2B,WAAW,GAAG,GAAG,GAAG,GAAG,CAAC;;MAEzC;MACAF,OAAO,CAACC,GAAG,CAACX,IAAI,CAACC,SAAS,CAAC;QAAEC,GAAG,EAAEC;MAAM,CAAC,CAAC,CAAC;IAG7C,CAAC,CAAC,CAAC;;IAGb;IACA,MAAMU,UAAU,GAAG7B,aAAa,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG;;IAEpD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;;IAEA;IACA;;IAGA;IACA;;IAEA;IACAG,OAAO,CAACS,WAAW,CAAC;IACpBX,gBAAgB,CAACD,aAAa,CAAC;EACjC,CAAC;EAED,oBACE;IAAA,uBACE;MAAK,SAAS,EAAC,MAAM;MAAA,UAClBE,IAAI,CAAC4B,GAAG,CAAC,CAACpB,GAAG,EAAEqB,QAAQ,kBACtB;QAAoB,SAAS,EAAC,UAAU;QAAA,UACrCrB,GAAG,CAACoB,GAAG,CAAC,CAACnB,GAAG,EAAEqB,QAAQ,kBACrB;UAEE,SAAS,EAAC,WAAW;UACrB,OAAO,EAAE,MAAMvB,eAAe,CAACsB,QAAQ,EAAEC,QAAQ,CAAE;UAAA,UAElDrB;QAAG,GAJCqB,QAAQ;UAAA;UAAA;UAAA;QAAA,QAMhB;MAAC,GATMD,QAAQ;QAAA;QAAA;QAAA;MAAA,QAWnB;IAAC;MAAA;MAAA;MAAA;IAAA;EACE;IAAA;IAAA;IAAA;EAAA,QACF;AAEV;;AAEA;AAAA,GA/GwBjC,GAAG;AAAA,KAAHA,GAAG;AAgH3B4B,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;;AAG5B;AACAD,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}